{"code":"!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=11)}([function(e,t){e.exports=require(\"stream\")},function(e,t){e.exports=require(\"zlib\")},function(e,t){e.exports=require(\"url\")},function(e,t){e.exports=require(\"http\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.JSONHTTPError=t.TextHTTPError=t.HTTPError=t.getPagination=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(8);function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"getPagination\",{enumerable:!0,get:function(){return i.getPagination}});var c=t.HTTPError=function(e){function t(e){s(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.statusText));return r.name=r.constructor.name,\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=new Error(e.statusText).stack,r.status=e.status,r}return u(t,e),t}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error)),l=t.TextHTTPError=function(e){function t(e,r){s(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.data=r,n}return u(t,e),t}(c),f=t.JSONHTTPError=function(e){function t(e,r){s(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.json=r,n}return u(t,e),t}(c),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",r=arguments[1];s(this,e),this.apiURL=t,this.apiURL.match(/\\/[^\\/]?/)&&(this._sameOrigin=!0),this.defaultHeaders=r&&r.defaultHeaders||{}}return o(e,[{key:\"headers\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n({},this.defaultHeaders,{\"Content-Type\":\"application/json\"},e)}},{key:\"parseJsonResponse\",value:function(e){return e.json().then((function(t){if(!e.ok)return Promise.reject(new f(e,t));var r=(0,i.getPagination)(e);return r?{pagination:r,items:t}:t}))}},{key:\"request\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.headers(r.headers||{});return this._sameOrigin&&(r.credentials=r.credentials||\"same-origin\"),fetch(this.apiURL+e,n({},r,{headers:o})).then((function(e){var r=e.headers.get(\"Content-Type\");return r&&r.match(/json/)?t.parseJsonResponse(e):e.ok?e.text().then((function(e){})):e.text().then((function(t){return Promise.reject(new l(e,t))}))}))}}]),e}();t.default=p},function(e,t){e.exports=require(\"https\")},function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var o,i=function(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!==n(e)&&\"function\"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(4)),s=(o=r(9))&&o.__esModule?o:{default:o};function a(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function u(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=/^http:\\/\\//,f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.APIUrl,n=void 0===r?\"/.netlify/identity\":r,o=t.audience,s=void 0===o?\"\":o,a=t.setCookie,c=void 0!==a&&a;u(this,e),n.match(l)&&console.warn(\"Warning:\\n\\nDO NOT USE HTTP IN PRODUCTION FOR GOTRUE EVER!\\nGoTrue REQUIRES HTTPS to work securely.\"),s&&(this.audience=s),this.setCookie=c,this.api=new i.default(n)}var t,r,n;return t=e,(r=[{key:\"_request\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers=t.headers||{};var r=t.audience||this.audience;return r&&(t.headers[\"X-JWT-AUD\"]=r),this.api.request(e,t).catch((function(e){return e instanceof i.JSONHTTPError&&e.json&&(e.json.msg?e.message=e.json.msg:e.json.error&&(e.message=\"\".concat(e.json.error,\": \").concat(e.json.error_description))),Promise.reject(e)}))}},{key:\"settings\",value:function(){return this._request(\"/settings\")}},{key:\"signup\",value:function(e,t,r){return this._request(\"/signup\",{method:\"POST\",body:JSON.stringify({email:e,password:t,data:r})})}},{key:\"login\",value:function(e,t,r){var n=this;return this._setRememberHeaders(r),this._request(\"/token\",{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},body:\"grant_type=password&username=\".concat(encodeURIComponent(e),\"&password=\").concat(encodeURIComponent(t))}).then((function(e){return s.default.removeSavedSession(),n.createUser(e,r)}))}},{key:\"loginExternalUrl\",value:function(e){return\"\".concat(this.api.apiURL,\"/authorize?provider=\").concat(e)}},{key:\"confirm\",value:function(e,t){return this._setRememberHeaders(t),this.verify(\"signup\",e,t)}},{key:\"requestPasswordRecovery\",value:function(e){return this._request(\"/recover\",{method:\"POST\",body:JSON.stringify({email:e})})}},{key:\"recover\",value:function(e,t){return this._setRememberHeaders(t),this.verify(\"recovery\",e,t)}},{key:\"acceptInvite\",value:function(e,t,r){var n=this;return this._setRememberHeaders(r),this._request(\"/verify\",{method:\"POST\",body:JSON.stringify({token:e,password:t,type:\"signup\"})}).then((function(e){return n.createUser(e,r)}))}},{key:\"acceptInviteExternalUrl\",value:function(e,t){return\"\".concat(this.api.apiURL,\"/authorize?provider=\").concat(e,\"&invite_token=\").concat(t)}},{key:\"createUser\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._setRememberHeaders(t);var r=new s.default(this.api,e,this.audience);return r.getUserData().then((function(e){return t&&e._saveSession(),e}))}},{key:\"currentUser\",value:function(){var e=s.default.recoverSession(this.api);return e&&this._setRememberHeaders(e._fromStorage),e}},{key:\"verify\",value:function(e,t,r){var n=this;return this._setRememberHeaders(r),this._request(\"/verify\",{method:\"POST\",body:JSON.stringify({token:t,type:e})}).then((function(e){return n.createUser(e,r)}))}},{key:\"_setRememberHeaders\",value:function(e){this.setCookie&&(this.api.defaultHeaders=this.api.defaultHeaders||{},this.api.defaultHeaders[\"X-Use-Cookie\"]=e?\"1\":\"session\")}}])&&c(t.prototype,r),n&&c(t,n),e}();t.default=f,\"undefined\"!=typeof window&&(window.GoTrue=f)},,function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};t.getPagination=function(e){var t=e.headers.get(\"Link\"),r={};if(null==t)return null;t=t.split(\",\");for(var o=e.headers.get(\"X-Total-Count\"),i=0,s=t.length;i<s;i++){var a=t[i].replace(/(^\\s*|\\s*$)/,\"\").split(\";\"),u=n(a,2),c=u[0],l=u[1],f=c.match(/page=(\\d+)/),p=f&&parseInt(f[1],10);l.match(/last/)?r.last=p:l.match(/next/)?r.next=p:l.match(/prev/)?r.prev=p:l.match(/first/)&&(r.first=p)}return r.last=Math.max(r.last||0,r.prev&&r.prev+1||0),r.current=r.next?r.next-1:r.last||1,r.total=o?parseInt(o,10):null,r}},function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var o,i=function(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!==n(e)&&\"function\"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(4)),s=(o=r(10))&&o.__esModule?o:{default:o};function a(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p={},h=null,d={api:1,token:1,audience:1,url:1},y={api:1},b=function(){return\"undefined\"!=typeof window},m=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.api=t,this.url=t.apiURL,this.audience=n,this._processTokenResponse(r),h=this}var t,r,n;return t=e,n=[{key:\"removeSavedSession\",value:function(){b()&&localStorage.removeItem(\"gotrue.user\")}},{key:\"recoverSession\",value:function(t){if(h)return h;var r=b()&&localStorage.getItem(\"gotrue.user\");if(r)try{var n=JSON.parse(r),o=n.url,s=n.token,a=n.audience;return o&&s?new e(t||new i.default(o,{}),s,a)._saveUserData(n,!0):null}catch(e){return console.error(new Error(\"Gotrue-js: Error recovering session: \".concat(e))),null}return null}}],(r=[{key:\"update\",value:function(e){var t=this;return this._request(\"/user\",{method:\"PUT\",body:JSON.stringify(e)}).then((function(e){return t._saveUserData(e)._refreshSavedSession()}))}},{key:\"jwt\",value:function(e){var t=this.tokenDetails();if(null==t)return Promise.reject(new Error(\"Gotrue-js: failed getting jwt access token\"));var r=t.expires_at,n=t.refresh_token,o=t.access_token;return e||r-6e4<Date.now()?this._refreshToken(n):Promise.resolve(o)}},{key:\"logout\",value:function(){return this._request(\"/logout\",{method:\"POST\"}).then(this.clearSession.bind(this)).catch(this.clearSession.bind(this))}},{key:\"_refreshToken\",value:function(e){var t=this;return p[e]?p[e]:p[e]=this.api.request(\"/token\",{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},body:\"grant_type=refresh_token&refresh_token=\".concat(e)}).then((function(r){return delete p[e],t._processTokenResponse(r),t._refreshSavedSession(),t.token.access_token})).catch((function(r){return delete p[e],t.clearSession(),Promise.reject(r)}))}},{key:\"_request\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.headers=r.headers||{};var n=r.audience||this.audience;return n&&(r.headers[\"X-JWT-AUD\"]=n),this.jwt().then((function(n){return t.api.request(e,c({headers:Object.assign(r.headers,{Authorization:\"Bearer \".concat(n)})},r)).catch((function(e){return e instanceof i.JSONHTTPError&&e.json&&(e.json.msg?e.message=e.json.msg:e.json.error&&(e.message=\"\".concat(e.json.error,\": \").concat(e.json.error_description))),Promise.reject(e)}))}))}},{key:\"getUserData\",value:function(){return this._request(\"/user\").then(this._saveUserData.bind(this)).then(this._refreshSavedSession.bind(this))}},{key:\"_saveUserData\",value:function(t,r){for(var n in t)n in e.prototype||n in d||(this[n]=t[n]);return r&&(this._fromStorage=!0),this}},{key:\"_processTokenResponse\",value:function(e){this.token=e;try{var t=JSON.parse(function(e){var t=e.replace(/-/g,\"+\").replace(/_/g,\"/\");switch(t.length%4){case 0:break;case 2:t+=\"==\";break;case 3:t+=\"=\";break;default:throw\"Illegal base64url string!\"}var r=window.atob(t);try{return decodeURIComponent(escape(r))}catch(e){return r}}(e.access_token.split(\".\")[1]));this.token.expires_at=1e3*t.exp}catch(e){console.error(new Error(\"Gotrue-js: Failed to parse tokenResponse claims: \".concat(e)))}}},{key:\"_refreshSavedSession\",value:function(){return b()&&localStorage.getItem(\"gotrue.user\")&&this._saveSession(),this}},{key:\"_saveSession\",value:function(){return b()&&localStorage.setItem(\"gotrue.user\",JSON.stringify(this._details)),this}},{key:\"tokenDetails\",value:function(){return this.token}},{key:\"clearSession\",value:function(){e.removeSavedSession(),this.token=null,h=null}},{key:\"admin\",get:function(){return new s.default(this)}},{key:\"_details\",get:function(){var t={};for(var r in this)r in e.prototype||r in y||(t[r]=this[r]);return t}}])&&f(t.prototype,r),n&&f(t,n),e}();t.default=m},function(e,t,r){\"use strict\";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.user=t}var t,r,o;return t=e,(r=[{key:\"listUsers\",value:function(e){return this.user._request(\"/admin/users\",{method:\"GET\",audience:e})}},{key:\"getUser\",value:function(e){return this.user._request(\"/admin/users/\".concat(e.id))}},{key:\"updateUser\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.user._request(\"/admin/users/\".concat(e.id),{method:\"PUT\",body:JSON.stringify(t)})}},{key:\"createUser\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.email=e,r.password=t,this.user._request(\"/admin/users\",{method:\"POST\",body:JSON.stringify(r)})}},{key:\"deleteUser\",value:function(e){return this.user._request(\"/admin/users/\".concat(e.id),{method:\"DELETE\"})}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){\"use strict\";r.r(t);var n=r(0),o=r(3),i=r(2),s=r(5),a=r(1);const u=n.Readable,c=Symbol(\"buffer\"),l=Symbol(\"type\");class f{constructor(){this[l]=\"\";const e=arguments[0],t=arguments[1],r=[];let n=0;if(e){const t=e,o=Number(t.length);for(let e=0;e<o;e++){const o=t[e];let i;i=o instanceof Buffer?o:ArrayBuffer.isView(o)?Buffer.from(o.buffer,o.byteOffset,o.byteLength):o instanceof ArrayBuffer?Buffer.from(o):o instanceof f?o[c]:Buffer.from(\"string\"==typeof o?o:String(o)),n+=i.length,r.push(i)}}this[c]=Buffer.concat(r);let o=t&&void 0!==t.type&&String(t.type).toLowerCase();o&&!/[^\\u0020-\\u007E]/.test(o)&&(this[l]=o)}get size(){return this[c].length}get type(){return this[l]}text(){return Promise.resolve(this[c].toString())}arrayBuffer(){const e=this[c],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new u;return e._read=function(){},e.push(this[c]),e.push(null),e}toString(){return\"[object Blob]\"}slice(){const e=this.size,t=arguments[0],r=arguments[1];let n,o;n=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),o=void 0===r?e:r<0?Math.max(e+r,0):Math.min(r,e);const i=Math.max(o-n,0),s=this[c].slice(n,n+i),a=new f([],{type:arguments[2]});return a[c]=s,a}}function p(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}let h;Object.defineProperties(f.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(f.prototype,Symbol.toStringTag,{value:\"Blob\",writable:!1,enumerable:!1,configurable:!0}),p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name=\"FetchError\";try{h=require(\"encoding\").convert}catch(e){}const d=Symbol(\"Body internals\"),y=n.PassThrough;function b(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.size;let i=void 0===o?0:o;var s=r.timeout;let a=void 0===s?0:s;null==e?e=null:g(e)?e=Buffer.from(e.toString()):v(e)||Buffer.isBuffer(e)||(\"[object ArrayBuffer]\"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof n||(e=Buffer.from(String(e)))),this[d]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=a,e instanceof n&&e.on(\"error\",(function(e){const r=\"AbortError\"===e.name?e:new p(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,\"system\",e);t[d].error=r}))}function m(){var e=this;if(this[d].disturbed)return b.Promise.reject(new TypeError(\"body used already for: \"+this.url));if(this[d].disturbed=!0,this[d].error)return b.Promise.reject(this[d].error);let t=this.body;if(null===t)return b.Promise.resolve(Buffer.alloc(0));if(v(t)&&(t=t.stream()),Buffer.isBuffer(t))return b.Promise.resolve(t);if(!(t instanceof n))return b.Promise.resolve(Buffer.alloc(0));let r=[],o=0,i=!1;return new b.Promise((function(n,s){let a;e.timeout&&(a=setTimeout((function(){i=!0,s(new p(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,\"body-timeout\"))}),e.timeout)),t.on(\"error\",(function(t){\"AbortError\"===t.name?(i=!0,s(t)):s(new p(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,\"system\",t))})),t.on(\"data\",(function(t){if(!i&&null!==t){if(e.size&&o+t.length>e.size)return i=!0,void s(new p(`content size at ${e.url} over limit: ${e.size}`,\"max-size\"));o+=t.length,r.push(t)}})),t.on(\"end\",(function(){if(!i){clearTimeout(a);try{n(Buffer.concat(r,o))}catch(t){s(new p(`Could not create Buffer from response body for ${e.url}: ${t.message}`,\"system\",t))}}}))}))}function g(e){return\"object\"==typeof e&&\"function\"==typeof e.append&&\"function\"==typeof e.delete&&\"function\"==typeof e.get&&\"function\"==typeof e.getAll&&\"function\"==typeof e.has&&\"function\"==typeof e.set&&(\"URLSearchParams\"===e.constructor.name||\"[object URLSearchParams]\"===Object.prototype.toString.call(e)||\"function\"==typeof e.sort)}function v(e){return\"object\"==typeof e&&\"function\"==typeof e.arrayBuffer&&\"string\"==typeof e.type&&\"function\"==typeof e.stream&&\"function\"==typeof e.constructor&&\"string\"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function w(e){let t,r,o=e.body;if(e.bodyUsed)throw new Error(\"cannot clone body after it is used\");return o instanceof n&&\"function\"!=typeof o.getBoundary&&(t=new y,r=new y,o.pipe(t),o.pipe(r),e[d].body=t,o=r),o}function O(e){return null===e?null:\"string\"==typeof e?\"text/plain;charset=UTF-8\":g(e)?\"application/x-www-form-urlencoded;charset=UTF-8\":v(e)?e.type||null:Buffer.isBuffer(e)||\"[object ArrayBuffer]\"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:\"function\"==typeof e.getBoundary?\"multipart/form-data;boundary=\"+e.getBoundary():e instanceof n?null:\"text/plain;charset=UTF-8\"}function j(e){const t=e.body;return null===t?0:v(t)?t.size:Buffer.isBuffer(t)?t.length:t&&\"function\"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}b.prototype={get body(){return this[d].body},get bodyUsed(){return this[d].disturbed},arrayBuffer(){return m.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get(\"content-type\")||\"\";return m.call(this).then((function(t){return Object.assign(new f([],{type:e.toLowerCase()}),{[c]:t})}))},json(){var e=this;return m.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return b.Promise.reject(new p(`invalid json response body at ${e.url} reason: ${t.message}`,\"invalid-json\"))}}))},text(){return m.call(this).then((function(e){return e.toString()}))},buffer(){return m.call(this)},textConverted(){var e=this;return m.call(this).then((function(t){return function(e,t){if(\"function\"!=typeof h)throw new Error(\"The package `encoding` must be installed to use the textConverted() function\");const r=t.get(\"content-type\");let n,o,i=\"utf-8\";r&&(n=/charset=([^;]*)/i.exec(r));o=e.slice(0,1024).toString(),!n&&o&&(n=/<meta.+?charset=(['\"])(.+?)\\1/i.exec(o));!n&&o&&(n=/<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(o),n||(n=/<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(o),n&&n.pop()),n&&(n=/charset=(.*)/i.exec(n.pop())));!n&&o&&(n=/<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(o));n&&(i=n.pop(),\"gb2312\"!==i&&\"gbk\"!==i||(i=\"gb18030\"));return h(e,\"UTF-8\",i).toString()}(t,e.headers)}))}},Object.defineProperties(b.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),b.mixIn=function(e){for(const t of Object.getOwnPropertyNames(b.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(b.prototype,t);Object.defineProperty(e,t,r)}},b.Promise=global.Promise;const S=/[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/,P=/[^\\t\\x20-\\x7e\\x80-\\xff]/;function T(e){if(e=\"\"+e,S.test(e)||\"\"===e)throw new TypeError(e+\" is not a legal HTTP header name\")}function _(e){if(e=\"\"+e,P.test(e))throw new TypeError(e+\" is not a legal HTTP header value\")}function k(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const E=Symbol(\"map\");class x{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[E]=Object.create(null),e instanceof x){const t=e.raw(),r=Object.keys(t);for(const e of r)for(const r of t[e])this.append(e,r)}else if(null==e);else{if(\"object\"!=typeof e)throw new TypeError(\"Provided initializer must be an object\");{const t=e[Symbol.iterator];if(null!=t){if(\"function\"!=typeof t)throw new TypeError(\"Header pairs must be iterable\");const r=[];for(const t of e){if(\"object\"!=typeof t||\"function\"!=typeof t[Symbol.iterator])throw new TypeError(\"Each header pair must be iterable\");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw new TypeError(\"Each header pair must be a name/value tuple\");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const r=e[t];this.append(t,r)}}}}get(e){T(e=\"\"+e);const t=k(this[E],e);return void 0===t?null:this[E][t].join(\", \")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=U(this),n=0;for(;n<r.length;){var o=r[n];const i=o[0],s=o[1];e.call(t,s,i,this),r=U(this),n++}}set(e,t){t=\"\"+t,T(e=\"\"+e),_(t);const r=k(this[E],e);this[E][void 0!==r?r:e]=[t]}append(e,t){t=\"\"+t,T(e=\"\"+e),_(t);const r=k(this[E],e);void 0!==r?this[E][r].push(t):this[E][e]=[t]}has(e){return T(e=\"\"+e),void 0!==k(this[E],e)}delete(e){T(e=\"\"+e);const t=k(this[E],e);void 0!==t&&delete this[E][t]}raw(){return this[E]}keys(){return C(this,\"key\")}values(){return C(this,\"value\")}[Symbol.iterator](){return C(this,\"key+value\")}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"key+value\";const r=Object.keys(e[E]).sort();return r.map(\"key\"===t?function(e){return e.toLowerCase()}:\"value\"===t?function(t){return e[E][t].join(\", \")}:function(t){return[t.toLowerCase(),e[E][t].join(\", \")]})}x.prototype.entries=x.prototype[Symbol.iterator],Object.defineProperty(x.prototype,Symbol.toStringTag,{value:\"Headers\",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(x.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const R=Symbol(\"internal\");function C(e,t){const r=Object.create(B);return r[R]={target:e,kind:t,index:0},r}const B=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==B)throw new TypeError(\"Value of `this` is not a HeadersIterator\");var e=this[R];const t=e.target,r=e.kind,n=e.index,o=U(t,r);return n>=o.length?{value:void 0,done:!0}:(this[R].index=n+1,{value:o[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function q(e){const t=Object.assign({__proto__:null},e[E]),r=k(e[E],\"Host\");return void 0!==r&&(t[r]=t[r][0]),t}Object.defineProperty(B,Symbol.toStringTag,{value:\"HeadersIterator\",writable:!1,enumerable:!1,configurable:!0});const H=Symbol(\"Response internals\"),L=o.STATUS_CODES;class A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b.call(this,e,t);const r=t.status||200,n=new x(t.headers);if(null!=e&&!n.has(\"Content-Type\")){const t=O(e);t&&n.append(\"Content-Type\",t)}this[H]={url:t.url,status:r,statusText:t.statusText||L[r],headers:n,counter:t.counter}}get url(){return this[H].url||\"\"}get status(){return this[H].status}get ok(){return this[H].status>=200&&this[H].status<300}get redirected(){return this[H].counter>0}get statusText(){return this[H].statusText}get headers(){return this[H].headers}clone(){return new A(w(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}b.mixIn(A.prototype),Object.defineProperties(A.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(A.prototype,Symbol.toStringTag,{value:\"Response\",writable:!1,enumerable:!1,configurable:!0});const D=Symbol(\"Request internals\"),z=i.parse,I=i.format,M=\"destroy\"in n.Readable.prototype;function N(e){return\"object\"==typeof e&&\"object\"==typeof e[D]}class J{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N(e)?t=z(e.url):(t=e&&e.href?z(e.href):z(\"\"+e),e={});let n=r.method||e.method||\"GET\";if(n=n.toUpperCase(),(null!=r.body||N(e)&&null!==e.body)&&(\"GET\"===n||\"HEAD\"===n))throw new TypeError(\"Request with GET/HEAD method cannot have body\");let o=null!=r.body?r.body:N(e)&&null!==e.body?w(e):null;b.call(this,o,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const i=new x(r.headers||e.headers||{});if(null!=o&&!i.has(\"Content-Type\")){const e=O(o);e&&i.append(\"Content-Type\",e)}let s=N(e)?e.signal:null;if(\"signal\"in r&&(s=r.signal),null!=s&&!function(e){const t=e&&\"object\"==typeof e&&Object.getPrototypeOf(e);return!(!t||\"AbortSignal\"!==t.constructor.name)}(s))throw new TypeError(\"Expected signal to be an instanceof AbortSignal\");this[D]={method:n,redirect:r.redirect||e.redirect||\"follow\",headers:i,parsedURL:t,signal:s},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[D].method}get url(){return I(this[D].parsedURL)}get headers(){return this[D].headers}get redirect(){return this[D].redirect}get signal(){return this[D].signal}clone(){return new J(this)}}function $(e){Error.call(this,e),this.type=\"aborted\",this.message=e,Error.captureStackTrace(this,this.constructor)}b.mixIn(J.prototype),Object.defineProperty(J.prototype,Symbol.toStringTag,{value:\"Request\",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(J.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),$.prototype=Object.create(Error.prototype),$.prototype.constructor=$,$.prototype.name=\"AbortError\";const F=n.PassThrough,G=i.resolve;function W(e,t){if(!W.Promise)throw new Error(\"native promise missing, set fetch.Promise to your favorite alternative\");return b.Promise=W.Promise,new W.Promise((function(r,i){const u=new J(e,t),c=function(e){const t=e[D].parsedURL,r=new x(e[D].headers);if(r.has(\"Accept\")||r.set(\"Accept\",\"*/*\"),!t.protocol||!t.hostname)throw new TypeError(\"Only absolute URLs are supported\");if(!/^https?:$/.test(t.protocol))throw new TypeError(\"Only HTTP(S) protocols are supported\");if(e.signal&&e.body instanceof n.Readable&&!M)throw new Error(\"Cancellation of streamed requests with AbortSignal is not supported in node < 8\");let o=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(o=\"0\"),null!=e.body){const t=j(e);\"number\"==typeof t&&(o=String(t))}o&&r.set(\"Content-Length\",o),r.has(\"User-Agent\")||r.set(\"User-Agent\",\"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)\"),e.compress&&!r.has(\"Accept-Encoding\")&&r.set(\"Accept-Encoding\",\"gzip,deflate\");let i=e.agent;return\"function\"==typeof i&&(i=i(t)),r.has(\"Connection\")||i||r.set(\"Connection\",\"close\"),Object.assign({},t,{method:e.method,headers:q(r),agent:i})}(u),l=(\"https:\"===c.protocol?s:o).request,f=u.signal;let h=null;const d=function(){let e=new $(\"The user aborted a request.\");i(e),u.body&&u.body instanceof n.Readable&&u.body.destroy(e),h&&h.body&&h.body.emit(\"error\",e)};if(f&&f.aborted)return void d();const y=function(){d(),g()},b=l(c);let m;function g(){b.abort(),f&&f.removeEventListener(\"abort\",y),clearTimeout(m)}f&&f.addEventListener(\"abort\",y),u.timeout&&b.once(\"socket\",(function(e){m=setTimeout((function(){i(new p(\"network timeout at: \"+u.url,\"request-timeout\")),g()}),u.timeout)})),b.on(\"error\",(function(e){i(new p(`request to ${u.url} failed, reason: ${e.message}`,\"system\",e)),g()})),b.on(\"response\",(function(e){clearTimeout(m);const t=function(e){const t=new x;for(const r of Object.keys(e))if(!S.test(r))if(Array.isArray(e[r]))for(const n of e[r])P.test(n)||(void 0===t[E][r]?t[E][r]=[n]:t[E][r].push(n));else P.test(e[r])||(t[E][r]=[e[r]]);return t}(e.headers);if(W.isRedirect(e.statusCode)){const n=t.get(\"Location\"),o=null===n?null:G(u.url,n);switch(u.redirect){case\"error\":return i(new p(\"uri requested responds with a redirect, redirect mode is set to error: \"+u.url,\"no-redirect\")),void g();case\"manual\":if(null!==o)try{t.set(\"Location\",o)}catch(e){i(e)}break;case\"follow\":if(null===o)break;if(u.counter>=u.follow)return i(new p(\"maximum redirect reached at: \"+u.url,\"max-redirect\")),void g();const n={headers:new x(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:u.body,signal:u.signal,timeout:u.timeout,size:u.size};return 303!==e.statusCode&&u.body&&null===j(u)?(i(new p(\"Cannot follow redirect with body being a readable stream\",\"unsupported-redirect\")),void g()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||\"POST\"!==u.method)||(n.method=\"GET\",n.body=void 0,n.headers.delete(\"content-length\")),r(W(new J(o,n))),void g())}}e.once(\"end\",(function(){f&&f.removeEventListener(\"abort\",y)}));let n=e.pipe(new F);const o={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:u.size,timeout:u.timeout,counter:u.counter},s=t.get(\"Content-Encoding\");if(!u.compress||\"HEAD\"===u.method||null===s||204===e.statusCode||304===e.statusCode)return h=new A(n,o),void r(h);const c={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if(\"gzip\"==s||\"x-gzip\"==s)return n=n.pipe(a.createGunzip(c)),h=new A(n,o),void r(h);if(\"deflate\"!=s&&\"x-deflate\"!=s){if(\"br\"==s&&\"function\"==typeof a.createBrotliDecompress)return n=n.pipe(a.createBrotliDecompress()),h=new A(n,o),void r(h);h=new A(n,o),r(h)}else{e.pipe(new F).once(\"data\",(function(e){n=8==(15&e[0])?n.pipe(a.createInflate()):n.pipe(a.createInflateRaw()),h=new A(n,o),r(h)}))}})),function(e,t){const r=t.body;null===r?e.end():v(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}(b,u)}))}W.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},W.Promise=global.Promise;var V=r(6);const X=new(r.n(V).a)({APIUrl:\"https://roommatematcher.netlify.app/.netlify/identity\",audience:\"\",setCookie:!1});X.login(\"amous@uw.edu\",\"test\",!0),exports.handler=(e,t,r)=>{JSON.parse(e.body);return{statusCode:200,body:JSON.stringify({success:!0,usr:X.currentUser()})}}}]));","extractedComments":[]}